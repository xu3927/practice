<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>

<style>
	.my-component{
		width: 200px;
		height: 100px;
		background-color: pink;
	}
</style>
<template id="myComponent">
	<div class="my-component">
		<p>我是自定义组件</p>
	</div>
</template>
<script>
(function () {

	var element = Object.create(HTMLElement.prototype);
	// 获取模板
	// document.currentScript.ownerDocument 可以获取当前的document
	var tpl = document.currentScript.ownerDocument.getElementById('myComponent').innerHTML;
	// 创建shadow dom
	// var shadow = new HTMLShadowElement();


	class MyComponent extends HTMLElement {
		createdCallback () {
			console.log('createdCallback');
			this.append(tpl.clone(true));
		}
		attachedCallback () {
			console.log('attachedCallback');

		}
		detachedCallback () {
			console.log('detachedCallback');

		}
		attributeChangedCallback(attrName, oldVal, newVal){
			console.log('attributeChangedCallback');

		}
		connectedCallback() {
			console.log('connectedCallback');
			this.innerHTML = tpl;
		    // this.textContent = '4542345';
		}
	}

	// 自定义HTML标签
	window.customElements.define('my-component', MyComponent)	

})();
</script>

	
</body>
</html>